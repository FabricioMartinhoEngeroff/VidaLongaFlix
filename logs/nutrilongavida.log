2025-01-17 05:48:03 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=12h29m5s573ms63Âµs300ns).
2025-01-17 06:12:16 [SpringApplicationShutdownHook] DEBUG o.s.b.a.ApplicationAvailabilityBean - Application availability state ReadinessState changed from ACCEPTING_TRAFFIC to REFUSING_TRAFFIC
2025-01-17 06:12:16 [SpringApplicationShutdownHook] DEBUG o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@4f704591, started on Thu Jan 16 09:04:02 BRT 2025
2025-01-17 06:12:16 [SpringApplicationShutdownHook] DEBUG o.s.c.s.DefaultLifecycleProcessor - Stopping beans in phase 2147483647
2025-01-17 06:12:16 [SpringApplicationShutdownHook] DEBUG o.s.c.s.DefaultLifecycleProcessor - Bean 'applicationTaskExecutor' completed its stop procedure
2025-01-17 06:12:16 [SpringApplicationShutdownHook] DEBUG o.s.c.s.DefaultLifecycleProcessor - Stopping beans in phase 2147482623
2025-01-17 06:12:16 [SpringApplicationShutdownHook] DEBUG o.s.c.s.DefaultLifecycleProcessor - Bean 'webServerGracefulShutdown' completed its stop procedure
2025-01-17 06:12:16 [SpringApplicationShutdownHook] DEBUG o.s.c.s.DefaultLifecycleProcessor - Stopping beans in phase 2147481599
2025-01-17 06:12:17 [SpringApplicationShutdownHook] DEBUG o.s.c.s.DefaultLifecycleProcessor - Bean 'webServerStartStop' completed its stop procedure
2025-01-17 06:12:17 [SpringApplicationShutdownHook] DEBUG o.s.c.s.DefaultLifecycleProcessor - Stopping beans in phase -2147483647
2025-01-17 06:12:17 [SpringApplicationShutdownHook] DEBUG o.s.c.s.DefaultLifecycleProcessor - Bean 'springBootLoggingLifecycle' completed its stop procedure
2025-01-17 06:12:17 [SpringApplicationShutdownHook] DEBUG o.s.s.c.ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
2025-01-17 06:12:17 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-17 06:12:17 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-01-17 06:12:17 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-01-17T06:34:50.348-03:00 ERROR 8408 --- [VidaLongaFlix] [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Failed to bind properties under 'logging.level.root' to org.springframework.boot.logging.LogLevel:

    Property: logging.level.root
    Value: "WARN  # Mostra apenas avisos ou erros"
    Origin: class path resource [application.properties] - 35:20
    Reason: failed to convert java.lang.String to org.springframework.boot.logging.LogLevel (caused by java.lang.IllegalArgumentException: No enum constant org.springframework.boot.logging.LogLevel.WARN  # Mostra apenas avisos ou erros)

Action:

Update your application's configuration. The following values are valid:

    DEBUG
    ERROR
    FATAL
    INFO
    OFF
    TRACE
    WARN

2025-01-17T06:37:35.248-03:00 ERROR 13476 --- [VidaLongaFlix] [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Failed to bind properties under 'logging.level.com.dvfabricio' to org.springframework.boot.logging.LogLevel:

    Property: logging.level.com.dvfabricio
    Value: "DEBUG  # Mantenha DEBUG apenas para seu pacote"
    Origin: class path resource [application.properties] - 36:30
    Reason: failed to convert java.lang.String to org.springframework.boot.logging.LogLevel (caused by java.lang.IllegalArgumentException: No enum constant org.springframework.boot.logging.LogLevel.DEBUG  # Mantenha DEBUG apenas para seu pacote)

Action:

Update your application's configuration. The following values are valid:

    DEBUG
    ERROR
    FATAL
    INFO
    OFF
    TRACE
    WARN

2025-01-17T06:38:18.855-03:00  INFO 10496 --- [VidaLongaFlix] [main] c.d.V.VidaLongaFlixApplication           : Starting VidaLongaFlixApplication using Java 17.0.9 with PID 10496 (C:\Java-Spring-2024\VidaLongaFlix\target\classes started by amand in C:\Java-Spring-2024\VidaLongaFlix)
2025-01-17T06:38:18.865-03:00 DEBUG 10496 --- [VidaLongaFlix] [main] c.d.V.VidaLongaFlixApplication           : Running with Spring Boot v3.3.3, Spring v6.1.12
2025-01-17T06:38:18.869-03:00  INFO 10496 --- [VidaLongaFlix] [main] c.d.V.VidaLongaFlixApplication           : The following 1 profile is active: "local"
2025-01-17T06:38:22.547-03:00  INFO 10496 --- [VidaLongaFlix] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-17T06:38:22.782-03:00  INFO 10496 --- [VidaLongaFlix] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 207 ms. Found 2 JPA repository interfaces.
2025-01-17T06:38:25.259-03:00  INFO 10496 --- [VidaLongaFlix] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8090 (http)
2025-01-17T06:38:25.586-03:00  INFO 10496 --- [VidaLongaFlix] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 6530 ms
2025-01-17T06:38:26.480-03:00  INFO 10496 --- [VidaLongaFlix] [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-17T06:38:27.339-03:00  WARN 10496 --- [VidaLongaFlix] [main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-17T06:38:27.901-03:00 ERROR 10496 --- [VidaLongaFlix] [main] o.s.b.web.embedded.tomcat.TomcatStarter  : Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'securityFilter' defined in file [C:\Java-Spring-2024\VidaLongaFlix\target\classes\com\dvFabricio\VidaLongaFlix\infra\security\SecurityFilter.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'userRepository' defined in com.dvFabricio.VidaLongaFlix.repositories.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
2025-01-17T06:38:28.000-03:00  WARN 10496 --- [VidaLongaFlix] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server
2025-01-17T06:38:28.039-03:00  INFO 10496 --- [VidaLongaFlix] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-01-17T06:38:28.110-03:00 ERROR 10496 --- [VidaLongaFlix] [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Failed to bind properties under 'spring.jpa.show-sql' to boolean:

    Property: spring.jpa.show-sql
    Value: "false  # Oculta os logs de SQL"
    Origin: class path resource [application.properties] - 23:21
    Reason: failed to convert java.lang.String to boolean (caused by java.lang.IllegalArgumentException: Invalid boolean value 'false  # Oculta os logs de SQL')

Action:

Update your application's configuration

2025-01-17T06:39:25.975-03:00  INFO 3256 --- [VidaLongaFlix] [main] c.d.V.VidaLongaFlixApplication           : Starting VidaLongaFlixApplication using Java 17.0.9 with PID 3256 (C:\Java-Spring-2024\VidaLongaFlix\target\classes started by amand in C:\Java-Spring-2024\VidaLongaFlix)
2025-01-17T06:39:25.992-03:00 DEBUG 3256 --- [VidaLongaFlix] [main] c.d.V.VidaLongaFlixApplication           : Running with Spring Boot v3.3.3, Spring v6.1.12
2025-01-17T06:39:25.997-03:00  INFO 3256 --- [VidaLongaFlix] [main] c.d.V.VidaLongaFlixApplication           : The following 1 profile is active: "local"
2025-01-17T06:39:29.355-03:00  INFO 3256 --- [VidaLongaFlix] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-17T06:39:29.620-03:00  INFO 3256 --- [VidaLongaFlix] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 238 ms. Found 2 JPA repository interfaces.
2025-01-17T06:39:32.167-03:00  INFO 3256 --- [VidaLongaFlix] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8090 (http)
2025-01-17T06:39:32.537-03:00  INFO 3256 --- [VidaLongaFlix] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 6338 ms
2025-01-17T06:39:33.558-03:00  INFO 3256 --- [VidaLongaFlix] [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-17T06:39:34.577-03:00  WARN 3256 --- [VidaLongaFlix] [main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-17T06:39:37.073-03:00  INFO 3256 --- [VidaLongaFlix] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-17T06:39:37.250-03:00  WARN 3256 --- [VidaLongaFlix] [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-01-17T06:39:40.994-03:00  INFO 3256 --- [VidaLongaFlix] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-17T06:39:42.136-03:00 DEBUG 3256 --- [VidaLongaFlix] [main] c.d.V.infra.security.SecurityFilter      : Filter 'securityFilter' configured for use
2025-01-17T06:39:42.455-03:00  WARN 3256 --- [VidaLongaFlix] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-17T06:39:42.513-03:00  WARN 3256 --- [VidaLongaFlix] [main] r$InitializeUserDetailsManagerConfigurer : Found 2 UserDetailsService beans, with names [authorizationService, customUserDetailsService]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2025-01-17T06:39:45.684-03:00  INFO 3256 --- [VidaLongaFlix] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8090 (http) with context path '/api'
2025-01-17T06:39:45.723-03:00  INFO 3256 --- [VidaLongaFlix] [main] c.d.V.VidaLongaFlixApplication           : Started VidaLongaFlixApplication in 21.492 seconds (process running for 23.398)
2025-01-17T06:40:02.504-03:00  INFO 3256 --- [VidaLongaFlix] [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-01-17T06:40:02.509-03:00  INFO 3256 --- [VidaLongaFlix] [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2025-01-17T06:44:38.955-03:00 ERROR 3256 --- [VidaLongaFlix] [http-nio-8090-exec-8] o.a.c.c.C.[.[.[.[dispatcherServlet]      : Servlet.service() for servlet [dispatcherServlet] in context with path [/api] threw exception

com.dvFabricio.VidaLongaFlix.infra.exception.ResourceNotFoundExceptions: UsuÃ¡rio associado ao token nÃ£o encontrado.
	at com.dvFabricio.VidaLongaFlix.infra.security.SecurityFilter.lambda$doFilterInternal$0(SecurityFilter.java:39) ~[classes/:na]
	at java.base/java.util.Optional.orElseThrow(Optional.java:403) ~[na:na]
	at com.dvFabricio.VidaLongaFlix.infra.security.SecurityFilter.doFilterInternal(SecurityFilter.java:39) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.12.jar:6.1.12]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.12.jar:6.1.12]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.12.jar:6.1.12]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.12.jar:6.1.12]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.12.jar:6.1.12]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.12.jar:6.1.12]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.12.jar:6.1.12]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.12.jar:6.1.12]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.12.jar:6.1.12]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.12.jar:6.1.12]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.12.jar:6.1.12]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.12.jar:6.1.12]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.12.jar:6.1.12]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.12.jar:6.1.12]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.12.jar:6.1.12]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.12.jar:6.1.12]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

2025-01-17T06:47:25.562-03:00  INFO 3256 --- [VidaLongaFlix] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-17T06:49:47.172-03:00  INFO 18036 --- [VidaLongaFlix] [main] c.d.V.VidaLongaFlixApplication           : Starting VidaLongaFlixApplication using Java 17.0.9 with PID 18036 (C:\Java-Spring-2024\VidaLongaFlix\target\classes started by amand in C:\Java-Spring-2024\VidaLongaFlix)
2025-01-17T06:49:47.183-03:00 DEBUG 18036 --- [VidaLongaFlix] [main] c.d.V.VidaLongaFlixApplication           : Running with Spring Boot v3.3.3, Spring v6.1.12
2025-01-17T06:49:47.188-03:00  INFO 18036 --- [VidaLongaFlix] [main] c.d.V.VidaLongaFlixApplication           : The following 1 profile is active: "local"
2025-01-17T06:49:51.108-03:00  INFO 18036 --- [VidaLongaFlix] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-17T06:49:51.396-03:00  INFO 18036 --- [VidaLongaFlix] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 262 ms. Found 2 JPA repository interfaces.
2025-01-17T06:49:54.715-03:00  INFO 18036 --- [VidaLongaFlix] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8090 (http)
2025-01-17T06:49:55.143-03:00  INFO 18036 --- [VidaLongaFlix] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 7694 ms
2025-01-17T06:49:56.537-03:00  INFO 18036 --- [VidaLongaFlix] [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-17T06:49:58.280-03:00  WARN 18036 --- [VidaLongaFlix] [main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-17T06:50:01.003-03:00  INFO 18036 --- [VidaLongaFlix] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-17T06:50:01.203-03:00  WARN 18036 --- [VidaLongaFlix] [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-01-17T06:50:04.760-03:00  INFO 18036 --- [VidaLongaFlix] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-17T06:50:06.187-03:00 DEBUG 18036 --- [VidaLongaFlix] [main] c.d.V.infra.security.SecurityFilter      : Filter 'securityFilter' configured for use
2025-01-17T06:50:06.657-03:00  WARN 18036 --- [VidaLongaFlix] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-17T06:50:06.745-03:00  WARN 18036 --- [VidaLongaFlix] [main] r$InitializeUserDetailsManagerConfigurer : Found 2 UserDetailsService beans, with names [authorizationService, customUserDetailsService]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2025-01-17T06:50:10.044-03:00  INFO 18036 --- [VidaLongaFlix] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8090 (http) with context path '/api'
2025-01-17T06:50:10.076-03:00  INFO 18036 --- [VidaLongaFlix] [main] c.d.V.VidaLongaFlixApplication           : Started VidaLongaFlixApplication in 25.096 seconds (process running for 27.222)
2025-01-17T06:54:04.874-03:00  INFO 18036 --- [VidaLongaFlix] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-17T07:37:26.618-03:00  INFO 16664 --- [VidaLongaFlix] [main] c.d.V.VidaLongaFlixApplication           : Starting VidaLongaFlixApplication using Java 17.0.9 with PID 16664 (C:\Java-Spring-2024\VidaLongaFlix\target\classes started by amand in C:\Java-Spring-2024\VidaLongaFlix)
2025-01-17T07:37:26.635-03:00 DEBUG 16664 --- [VidaLongaFlix] [main] c.d.V.VidaLongaFlixApplication           : Running with Spring Boot v3.3.3, Spring v6.1.12
2025-01-17T07:37:26.639-03:00  INFO 16664 --- [VidaLongaFlix] [main] c.d.V.VidaLongaFlixApplication           : The following 1 profile is active: "dev"
2025-01-17T07:37:30.539-03:00  INFO 16664 --- [VidaLongaFlix] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-17T07:37:30.831-03:00  INFO 16664 --- [VidaLongaFlix] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 259 ms. Found 2 JPA repository interfaces.
2025-01-17T07:37:33.697-03:00  INFO 16664 --- [VidaLongaFlix] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8090 (http)
2025-01-17T07:37:34.207-03:00  INFO 16664 --- [VidaLongaFlix] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 7349 ms
2025-01-17T07:37:35.452-03:00  INFO 16664 --- [VidaLongaFlix] [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-17T07:37:36.672-03:00  WARN 16664 --- [VidaLongaFlix] [main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-17T07:37:37.331-03:00 ERROR 16664 --- [VidaLongaFlix] [main] o.f.core.internal.command.DbMigrate      : Migration of schema "PUBLIC" to version "4 - insert-test-users" failed! Please restore backups and roll back database and code!
2025-01-17T07:37:37.357-03:00 ERROR 16664 --- [VidaLongaFlix] [main] o.s.b.web.embedded.tomcat.TomcatStarter  : Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'securityFilter' defined in file [C:\Java-Spring-2024\VidaLongaFlix\target\classes\com\dvFabricio\VidaLongaFlix\infra\security\SecurityFilter.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'userRepository' defined in com.dvFabricio.VidaLongaFlix.repositories.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
2025-01-17T07:37:37.477-03:00  WARN 16664 --- [VidaLongaFlix] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server
2025-01-17T07:37:37.556-03:00  INFO 16664 --- [VidaLongaFlix] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-01-17T07:37:37.656-03:00 ERROR 16664 --- [VidaLongaFlix] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Unable to start web server
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:165) ~[spring-boot-3.3.3.jar:3.3.3]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:619) ~[spring-context-6.1.12.jar:6.1.12]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.3.3.jar:3.3.3]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.3.jar:3.3.3]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.3.jar:3.3.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.3.jar:3.3.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363) ~[spring-boot-3.3.3.jar:3.3.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352) ~[spring-boot-3.3.3.jar:3.3.3]
	at com.dvFabricio.VidaLongaFlix.VidaLongaFlixApplication.main(VidaLongaFlixApplication.java:10) ~[classes/:na]
Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:147) ~[spring-boot-3.3.3.jar:3.3.3]
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:107) ~[spring-boot-3.3.3.jar:3.3.3]
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:516) ~[spring-boot-3.3.3.jar:3.3.3]
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:222) ~[spring-boot-3.3.3.jar:3.3.3]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:188) ~[spring-boot-3.3.3.jar:3.3.3]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162) ~[spring-boot-3.3.3.jar:3.3.3]
	... 8 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'securityFilter' defined in file [C:\Java-Spring-2024\VidaLongaFlix\target\classes\com\dvFabricio\VidaLongaFlix\infra\security\SecurityFilter.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'userRepository' defined in com.dvFabricio.VidaLongaFlix.repositories.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:795) ~[spring-beans-6.1.12.jar:6.1.12]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237) ~[spring-beans-6.1.12.jar:6.1.12]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1375) ~[spring-beans-6.1.12.jar:6.1.12]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1212) ~[spring-beans-6.1.12.jar:6.1.12]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562) ~[spring-beans-6.1.12.jar:6.1.12]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.12.jar:6.1.12]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.12.jar:6.1.12]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.12.jar:6.1.12]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.12.jar:6.1.12]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205) ~[spring-beans-6.1.12.jar:6.1.12]
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:211) ~[spring-boot-3.3.3.jar:3.3.3]
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:174) ~[spring-boot-3.3.3.jar:3.3.3]
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:169) ~[spring-boot-3.3.3.jar:3.3.3]
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:154) ~[spring-boot-3.3.3.jar:3.3.3]
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:87) ~[spring-boot-3.3.3.jar:3.3.3]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:266) ~[spring-boot-3.3.3.jar:3.3.3]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:240) ~[spring-boot-3.3.3.jar:3.3.3]
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52) ~[spring-boot-3.3.3.jar:3.3.3]
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4414) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1203) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1193) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:749) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:772) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1203) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1193) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:749) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:203) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:415) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:874) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:437) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:128) ~[spring-boot-3.3.3.jar:3.3.3]
	... 13 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository' defined in com.dvFabricio.VidaLongaFlix.repositories.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377) ~[spring-beans-6.1.12.jar:6.1.12]
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135) ~[spring-beans-6.1.12.jar:6.1.12]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1705) ~[spring-beans-6.1.12.jar:6.1.12]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1454) ~[spring-beans-6.1.12.jar:6.1.12]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) ~[spring-beans-6.1.12.jar:6.1.12]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.12.jar:6.1.12]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.12.jar:6.1.12]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.12.jar:6.1.12]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.12.jar:6.1.12]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.12.jar:6.1.12]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.1.12.jar:6.1.12]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443) ~[spring-beans-6.1.12.jar:6.1.12]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353) ~[spring-beans-6.1.12.jar:6.1.12]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:904) ~[spring-beans-6.1.12.jar:6.1.12]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:782) ~[spring-beans-6.1.12.jar:6.1.12]
	... 54 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaSharedEM_entityManagerFactory': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377) ~[spring-beans-6.1.12.jar:6.1.12]
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135) ~[spring-beans-6.1.12.jar:6.1.12]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:682) ~[spring-beans-6.1.12.jar:6.1.12]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:509) ~[spring-beans-6.1.12.jar:6.1.12]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1355) ~[spring-beans-6.1.12.jar:6.1.12]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1185) ~[spring-beans-6.1.12.jar:6.1.12]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562) ~[spring-beans-6.1.12.jar:6.1.12]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.12.jar:6.1.12]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.12.jar:6.1.12]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.12.jar:6.1.12]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.12.jar:6.1.12]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.12.jar:6.1.12]
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365) ~[spring-beans-6.1.12.jar:6.1.12]
	... 68 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V4__insert-test-users.sql failed
------------------------------------------
SQL State  : 42S22
Error Code : 42122
Message    : Column "ROLES" not found; SQL statement:
INSERT INTO users (id, email, password, roles)
VALUES ('d193afd4-9222-4150-aadb-5167405a771c', 'newuser@example.com', 'encodedPassword123', 'ROLE_USER') [42122-224]
Location   : db/migration/V4__insert-test-users.sql (C:\Java-Spring-2024\VidaLongaFlix\target\classes\db\migration\V4__insert-test-users.sql)
Line       : 1
Statement  : INSERT INTO users (id, email, password, roles)
VALUES ('d193afd4-9222-4150-aadb-5167405a771c', 'newuser@example.com', 'encodedPassword123', 'ROLE_USER')

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1806) ~[spring-beans-6.1.12.jar:6.1.12]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.12.jar:6.1.12]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.12.jar:6.1.12]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.12.jar:6.1.12]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.12.jar:6.1.12]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.12.jar:6.1.12]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.12.jar:6.1.12]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313) ~[spring-beans-6.1.12.jar:6.1.12]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.12.jar:6.1.12]
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365) ~[spring-beans-6.1.12.jar:6.1.12]
	... 80 common frames omitted
Caused by: org.flywaydb.core.internal.command.DbMigrate$FlywayMigrateException: Migration V4__insert-test-users.sql failed
------------------------------------------
SQL State  : 42S22
Error Code : 42122
Message    : Column "ROLES" not found; SQL statement:
INSERT INTO users (id, email, password, roles)
VALUES ('d193afd4-9222-4150-aadb-5167405a771c', 'newuser@example.com', 'encodedPassword123', 'ROLE_USER') [42122-224]
Location   : db/migration/V4__insert-test-users.sql (C:\Java-Spring-2024\VidaLongaFlix\target\classes\db\migration\V4__insert-test-users.sql)
Line       : 1
Statement  : INSERT INTO users (id, email, password, roles)
VALUES ('d193afd4-9222-4150-aadb-5167405a771c', 'newuser@example.com', 'encodedPassword123', 'ROLE_USER')

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:382) ~[flyway-core-10.10.0.jar:na]
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:272) ~[flyway-core-10.10.0.jar:na]
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55) ~[flyway-core-10.10.0.jar:na]
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:271) ~[flyway-core-10.10.0.jar:na]
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:244) ~[flyway-core-10.10.0.jar:na]
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:139) ~[flyway-core-10.10.0.jar:na]
	at org.flywaydb.core.internal.jdbc.TableLockingExecutionTemplate$1.call(TableLockingExecutionTemplate.java:36) ~[flyway-core-10.10.0.jar:na]
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55) ~[flyway-core-10.10.0.jar:na]
	at org.flywaydb.core.internal.jdbc.TableLockingExecutionTemplate.execute(TableLockingExecutionTemplate.java:31) ~[flyway-core-10.10.0.jar:na]
	at org.flywaydb.core.internal.database.base.Connection.lock(Connection.java:102) ~[flyway-core-10.10.0.jar:na]
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:145) ~[flyway-core-10.10.0.jar:na]
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:139) ~[flyway-core-10.10.0.jar:na]
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:97) ~[flyway-core-10.10.0.jar:na]
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:202) ~[flyway-core-10.10.0.jar:na]
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:205) ~[flyway-core-10.10.0.jar:na]
	at org.flywaydb.core.Flyway.migrate(Flyway.java:147) ~[flyway-core-10.10.0.jar:na]
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66) ~[spring-boot-autoconfigure-3.3.3.jar:3.3.3]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853) ~[spring-beans-6.1.12.jar:6.1.12]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802) ~[spring-beans-6.1.12.jar:6.1.12]
	... 89 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Migration V4__insert-test-users.sql failed
------------------------------------------
SQL State  : 42S22
Error Code : 42122
Message    : Column "ROLES" not found; SQL statement:
INSERT INTO users (id, email, password, roles)
VALUES ('d193afd4-9222-4150-aadb-5167405a771c', 'newuser@example.com', 'encodedPassword123', 'ROLE_USER') [42122-224]
Location   : db/migration/V4__insert-test-users.sql (C:\Java-Spring-2024\VidaLongaFlix\target\classes\db\migration\V4__insert-test-users.sql)
Line       : 1
Statement  : INSERT INTO users (id, email, password, roles)
VALUES ('d193afd4-9222-4150-aadb-5167405a771c', 'newuser@example.com', 'encodedPassword123', 'ROLE_USER')

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:252) ~[flyway-core-10.10.0.jar:na]
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:214) ~[flyway-core-10.10.0.jar:na]
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:133) ~[flyway-core-10.10.0.jar:na]
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:65) ~[flyway-core-10.10.0.jar:na]
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:57) ~[flyway-core-10.10.0.jar:na]
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:27) ~[flyway-core-10.10.0.jar:na]
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:56) ~[flyway-core-10.10.0.jar:na]
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:374) ~[flyway-core-10.10.0.jar:na]
	... 107 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Column "ROLES" not found; SQL statement:
INSERT INTO users (id, email, password, roles)
VALUES ('d193afd4-9222-4150-aadb-5167405a771c', 'newuser@example.com', 'encodedPassword123', 'ROLE_USER') [42122-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.get(DbException.java:223) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.message.DbException.get(DbException.java:199) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.table.Table.getColumn(Table.java:759) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.Parser.parseColumn(Parser.java:1190) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.Parser.parseColumnList(Parser.java:1175) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.Parser.parseInsert(Parser.java:1549) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.Parser.parsePrepared(Parser.java:719) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.Parser.parse(Parser.java:592) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.Parser.parse(Parser.java:564) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.command.Parser.prepareCommand(Parser.java:483) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:639) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:559) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1166) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:245) ~[h2-2.2.224.jar:2.2.224]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231) ~[h2-2.2.224.jar:2.2.224]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:210) ~[flyway-core-10.10.0.jar:na]
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:89) ~[flyway-core-10.10.0.jar:na]
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:206) ~[flyway-core-10.10.0.jar:na]
	... 113 common frames omitted

2025-01-17T08:05:50.602-03:00  INFO 7828 --- [VidaLongaFlix] [main] c.d.V.VidaLongaFlixApplication           : Starting VidaLongaFlixApplication using Java 17.0.9 with PID 7828 (C:\Java-Spring-2024\VidaLongaFlix\target\classes started by amand in C:\Java-Spring-2024\VidaLongaFlix)
2025-01-17T08:05:50.632-03:00 DEBUG 7828 --- [VidaLongaFlix] [main] c.d.V.VidaLongaFlixApplication           : Running with Spring Boot v3.3.3, Spring v6.1.12
2025-01-17T08:05:50.637-03:00  INFO 7828 --- [VidaLongaFlix] [main] c.d.V.VidaLongaFlixApplication           : The following 1 profile is active: "dev"
2025-01-17T08:05:54.279-03:00  INFO 7828 --- [VidaLongaFlix] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-17T08:05:54.543-03:00  INFO 7828 --- [VidaLongaFlix] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 234 ms. Found 2 JPA repository interfaces.
2025-01-17T08:05:57.321-03:00  INFO 7828 --- [VidaLongaFlix] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8090 (http)
2025-01-17T08:05:57.713-03:00  INFO 7828 --- [VidaLongaFlix] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 6840 ms
2025-01-17T08:05:58.621-03:00  INFO 7828 --- [VidaLongaFlix] [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-17T08:05:59.749-03:00  WARN 7828 --- [VidaLongaFlix] [main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-17T08:06:02.498-03:00  INFO 7828 --- [VidaLongaFlix] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-17T08:06:02.725-03:00  WARN 7828 --- [VidaLongaFlix] [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-01-17T08:06:06.543-03:00  INFO 7828 --- [VidaLongaFlix] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-17T08:06:07.650-03:00 DEBUG 7828 --- [VidaLongaFlix] [main] c.d.V.infra.security.SecurityFilter      : Filter 'securityFilter' configured for use
2025-01-17T08:06:08.057-03:00  WARN 7828 --- [VidaLongaFlix] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-17T08:06:08.117-03:00  WARN 7828 --- [VidaLongaFlix] [main] r$InitializeUserDetailsManagerConfigurer : Found 2 UserDetailsService beans, with names [authorizationService, customUserDetailsService]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2025-01-17T08:06:11.946-03:00  INFO 7828 --- [VidaLongaFlix] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8090 (http) with context path '/api'
2025-01-17T08:06:11.999-03:00  INFO 7828 --- [VidaLongaFlix] [main] c.d.V.VidaLongaFlixApplication           : Started VidaLongaFlixApplication in 23.354 seconds (process running for 25.148)
2025-01-17T08:06:28.849-03:00  INFO 7828 --- [VidaLongaFlix] [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-01-17T08:06:28.852-03:00  INFO 7828 --- [VidaLongaFlix] [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-01-17T08:09:02.958-03:00  INFO 7828 --- [VidaLongaFlix] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-17T08:13:57.035-03:00  INFO 11600 --- [VidaLongaFlix] [main] c.d.V.VidaLongaFlixApplication           : Starting VidaLongaFlixApplication using Java 17.0.9 with PID 11600 (C:\Java-Spring-2024\VidaLongaFlix\target\classes started by amand in C:\Java-Spring-2024\VidaLongaFlix)
2025-01-17T08:13:57.043-03:00 DEBUG 11600 --- [VidaLongaFlix] [main] c.d.V.VidaLongaFlixApplication           : Running with Spring Boot v3.3.3, Spring v6.1.12
2025-01-17T08:13:57.050-03:00  INFO 11600 --- [VidaLongaFlix] [main] c.d.V.VidaLongaFlixApplication           : The following 1 profile is active: "dev"
2025-01-17T08:14:01.190-03:00  INFO 11600 --- [VidaLongaFlix] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-17T08:14:01.429-03:00  INFO 11600 --- [VidaLongaFlix] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 207 ms. Found 2 JPA repository interfaces.
2025-01-17T08:14:04.423-03:00  INFO 11600 --- [VidaLongaFlix] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8090 (http)
2025-01-17T08:14:04.821-03:00  INFO 11600 --- [VidaLongaFlix] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 7562 ms
2025-01-17T08:14:05.905-03:00  INFO 11600 --- [VidaLongaFlix] [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-17T08:14:06.983-03:00  WARN 11600 --- [VidaLongaFlix] [main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-17T08:14:09.738-03:00  INFO 11600 --- [VidaLongaFlix] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-17T08:14:09.927-03:00  WARN 11600 --- [VidaLongaFlix] [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-01-17T08:14:13.372-03:00  INFO 11600 --- [VidaLongaFlix] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-17T08:14:14.528-03:00 DEBUG 11600 --- [VidaLongaFlix] [main] c.d.V.infra.security.SecurityFilter      : Filter 'securityFilter' configured for use
2025-01-17T08:14:15.419-03:00  WARN 11600 --- [VidaLongaFlix] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-17T08:14:16.512-03:00  WARN 11600 --- [VidaLongaFlix] [main] r$InitializeUserDetailsManagerConfigurer : Found 2 UserDetailsService beans, with names [authorizationService, customUserDetailsService]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2025-01-17T08:14:20.942-03:00  INFO 11600 --- [VidaLongaFlix] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8090 (http) with context path '/api'
2025-01-17T08:14:20.982-03:00  INFO 11600 --- [VidaLongaFlix] [main] c.d.V.VidaLongaFlixApplication           : Started VidaLongaFlixApplication in 26.099 seconds (process running for 27.738)
2025-01-17T08:14:44.866-03:00  INFO 11600 --- [VidaLongaFlix] [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-01-17T08:14:44.869-03:00  INFO 11600 --- [VidaLongaFlix] [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-01-17T08:16:42.334-03:00  INFO 11600 --- [VidaLongaFlix] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-17T08:19:06.027-03:00  INFO 15120 --- [VidaLongaFlix] [main] c.d.V.VidaLongaFlixApplication           : Starting VidaLongaFlixApplication using Java 17.0.9 with PID 15120 (C:\Java-Spring-2024\VidaLongaFlix\target\classes started by amand in C:\Java-Spring-2024\VidaLongaFlix)
2025-01-17T08:19:06.033-03:00 DEBUG 15120 --- [VidaLongaFlix] [main] c.d.V.VidaLongaFlixApplication           : Running with Spring Boot v3.3.3, Spring v6.1.12
2025-01-17T08:19:06.035-03:00  INFO 15120 --- [VidaLongaFlix] [main] c.d.V.VidaLongaFlixApplication           : The following 1 profile is active: "dev"
2025-01-17T08:19:09.370-03:00  INFO 15120 --- [VidaLongaFlix] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-17T08:19:09.633-03:00  INFO 15120 --- [VidaLongaFlix] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 235 ms. Found 2 JPA repository interfaces.
2025-01-17T08:19:12.893-03:00  INFO 15120 --- [VidaLongaFlix] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8090 (http)
2025-01-17T08:19:13.293-03:00  INFO 15120 --- [VidaLongaFlix] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 7051 ms
2025-01-17T08:19:14.378-03:00  INFO 15120 --- [VidaLongaFlix] [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-17T08:19:15.526-03:00  WARN 15120 --- [VidaLongaFlix] [main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-17T08:19:18.522-03:00  INFO 15120 --- [VidaLongaFlix] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-17T08:19:18.749-03:00  WARN 15120 --- [VidaLongaFlix] [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-01-17T08:19:22.214-03:00  INFO 15120 --- [VidaLongaFlix] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-17T08:19:23.436-03:00 DEBUG 15120 --- [VidaLongaFlix] [main] c.d.V.infra.security.SecurityFilter      : Filter 'securityFilter' configured for use
2025-01-17T08:19:23.856-03:00  WARN 15120 --- [VidaLongaFlix] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-17T08:19:23.908-03:00  WARN 15120 --- [VidaLongaFlix] [main] r$InitializeUserDetailsManagerConfigurer : Found 2 UserDetailsService beans, with names [authorizationService, customUserDetailsService]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2025-01-17T08:19:27.575-03:00  INFO 15120 --- [VidaLongaFlix] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8090 (http) with context path '/api'
2025-01-17T08:19:27.644-03:00  INFO 15120 --- [VidaLongaFlix] [main] c.d.V.VidaLongaFlixApplication           : Started VidaLongaFlixApplication in 23.602 seconds (process running for 25.547)
2025-01-17T08:19:38.884-03:00  INFO 15120 --- [VidaLongaFlix] [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-01-17T08:19:38.887-03:00  INFO 15120 --- [VidaLongaFlix] [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2025-01-17T08:20:33.616-03:00  INFO 15120 --- [VidaLongaFlix] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-17T08:21:03.828-03:00  INFO 17964 --- [VidaLongaFlix] [main] c.d.V.VidaLongaFlixApplication           : Starting VidaLongaFlixApplication using Java 17.0.9 with PID 17964 (C:\Java-Spring-2024\VidaLongaFlix\target\classes started by amand in C:\Java-Spring-2024\VidaLongaFlix)
2025-01-17T08:21:03.834-03:00 DEBUG 17964 --- [VidaLongaFlix] [main] c.d.V.VidaLongaFlixApplication           : Running with Spring Boot v3.3.3, Spring v6.1.12
2025-01-17T08:21:03.837-03:00  INFO 17964 --- [VidaLongaFlix] [main] c.d.V.VidaLongaFlixApplication           : The following 1 profile is active: "dev"
2025-01-17T08:21:07.324-03:00  INFO 17964 --- [VidaLongaFlix] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-17T08:21:07.575-03:00  INFO 17964 --- [VidaLongaFlix] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 227 ms. Found 2 JPA repository interfaces.
2025-01-17T08:21:10.338-03:00  INFO 17964 --- [VidaLongaFlix] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8090 (http)
2025-01-17T08:21:10.712-03:00  INFO 17964 --- [VidaLongaFlix] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 6652 ms
2025-01-17T08:21:11.839-03:00  INFO 17964 --- [VidaLongaFlix] [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-17T08:21:12.943-03:00  WARN 17964 --- [VidaLongaFlix] [main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-17T08:21:15.888-03:00  INFO 17964 --- [VidaLongaFlix] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-17T08:21:16.114-03:00  WARN 17964 --- [VidaLongaFlix] [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-01-17T08:21:19.824-03:00  INFO 17964 --- [VidaLongaFlix] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-17T08:21:21.017-03:00 DEBUG 17964 --- [VidaLongaFlix] [main] c.d.V.infra.security.SecurityFilter      : Filter 'securityFilter' configured for use
2025-01-17T08:21:21.866-03:00  WARN 17964 --- [VidaLongaFlix] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-17T08:21:21.941-03:00  WARN 17964 --- [VidaLongaFlix] [main] r$InitializeUserDetailsManagerConfigurer : Found 2 UserDetailsService beans, with names [authorizationService, customUserDetailsService]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2025-01-17T08:21:21.942-03:00 DEBUG 17964 --- [VidaLongaFlix] [main] swordEncoderAuthenticationManagerBuilder : No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-01-17T08:21:22.995-03:00 DEBUG 17964 --- [VidaLongaFlix] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, SecurityFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-01-17T08:21:25.515-03:00  INFO 17964 --- [VidaLongaFlix] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8090 (http) with context path '/api'
2025-01-17T08:21:25.565-03:00  INFO 17964 --- [VidaLongaFlix] [main] c.d.V.VidaLongaFlixApplication           : Started VidaLongaFlixApplication in 23.756 seconds (process running for 25.698)
2025-01-17T08:21:39.583-03:00  INFO 17964 --- [VidaLongaFlix] [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-01-17T08:21:39.589-03:00  INFO 17964 --- [VidaLongaFlix] [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2025-01-17T08:21:39.640-03:00 DEBUG 17964 --- [VidaLongaFlix] [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /h2-console.
2025-01-17T08:21:39.660-03:00 DEBUG 17964 --- [VidaLongaFlix] [http-nio-8090-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-01-17T08:21:39.666-03:00 DEBUG 17964 --- [VidaLongaFlix] [http-nio-8090-exec-1] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-01-17T08:21:39.722-03:00 DEBUG 17964 --- [VidaLongaFlix] [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /error
2025-01-17T08:21:39.723-03:00 DEBUG 17964 --- [VidaLongaFlix] [http-nio-8090-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-01-17T08:21:39.724-03:00 DEBUG 17964 --- [VidaLongaFlix] [http-nio-8090-exec-1] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-01-17T08:23:05.756-03:00 DEBUG 17964 --- [VidaLongaFlix] [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /users
2025-01-17T08:23:05.760-03:00 DEBUG 17964 --- [VidaLongaFlix] [http-nio-8090-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-01-17T08:23:05.763-03:00 DEBUG 17964 --- [VidaLongaFlix] [http-nio-8090-exec-4] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-01-17T08:23:05.767-03:00 DEBUG 17964 --- [VidaLongaFlix] [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /error
2025-01-17T08:23:05.769-03:00 DEBUG 17964 --- [VidaLongaFlix] [http-nio-8090-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-01-17T08:23:05.769-03:00 DEBUG 17964 --- [VidaLongaFlix] [http-nio-8090-exec-4] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-01-17T08:23:49.339-03:00  INFO 17964 --- [VidaLongaFlix] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-17T08:30:46.224-03:00  INFO 17580 --- [VidaLongaFlix] [main] c.d.V.VidaLongaFlixApplication           : Starting VidaLongaFlixApplication using Java 17.0.9 with PID 17580 (C:\Java-Spring-2024\VidaLongaFlix\target\classes started by amand in C:\Java-Spring-2024\VidaLongaFlix)
2025-01-17T08:30:46.230-03:00 DEBUG 17580 --- [VidaLongaFlix] [main] c.d.V.VidaLongaFlixApplication           : Running with Spring Boot v3.3.3, Spring v6.1.12
2025-01-17T08:30:46.236-03:00  INFO 17580 --- [VidaLongaFlix] [main] c.d.V.VidaLongaFlixApplication           : The following 1 profile is active: "dev"
2025-01-17T08:30:49.649-03:00  INFO 17580 --- [VidaLongaFlix] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-17T08:30:49.932-03:00  INFO 17580 --- [VidaLongaFlix] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 245 ms. Found 2 JPA repository interfaces.
2025-01-17T08:30:53.227-03:00  INFO 17580 --- [VidaLongaFlix] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8090 (http)
2025-01-17T08:30:53.655-03:00  INFO 17580 --- [VidaLongaFlix] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 7235 ms
2025-01-17T08:30:54.729-03:00  INFO 17580 --- [VidaLongaFlix] [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-17T08:30:55.807-03:00  WARN 17580 --- [VidaLongaFlix] [main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-17T08:30:58.543-03:00  INFO 17580 --- [VidaLongaFlix] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-17T08:30:58.804-03:00  WARN 17580 --- [VidaLongaFlix] [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-01-17T08:31:02.959-03:00  INFO 17580 --- [VidaLongaFlix] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-17T08:31:04.269-03:00 DEBUG 17580 --- [VidaLongaFlix] [main] c.d.V.infra.security.SecurityFilter      : Filter 'securityFilter' configured for use
2025-01-17T08:31:04.647-03:00  WARN 17580 --- [VidaLongaFlix] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-17T08:31:04.704-03:00  WARN 17580 --- [VidaLongaFlix] [main] r$InitializeUserDetailsManagerConfigurer : Found 2 UserDetailsService beans, with names [authorizationService, customUserDetailsService]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2025-01-17T08:31:04.705-03:00 DEBUG 17580 --- [VidaLongaFlix] [main] swordEncoderAuthenticationManagerBuilder : No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-01-17T08:31:05.718-03:00 DEBUG 17580 --- [VidaLongaFlix] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, SecurityFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-01-17T08:31:08.085-03:00  INFO 17580 --- [VidaLongaFlix] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8090 (http) with context path '/api'
2025-01-17T08:31:08.119-03:00  INFO 17580 --- [VidaLongaFlix] [main] c.d.V.VidaLongaFlixApplication           : Started VidaLongaFlixApplication in 24.705 seconds (process running for 27.213)
2025-01-17T08:32:03.146-03:00  INFO 17580 --- [VidaLongaFlix] [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-01-17T08:32:03.150-03:00  INFO 17580 --- [VidaLongaFlix] [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2025-01-17T08:32:03.209-03:00 DEBUG 17580 --- [VidaLongaFlix] [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /h2-console.
2025-01-17T08:32:03.226-03:00 DEBUG 17580 --- [VidaLongaFlix] [http-nio-8090-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-01-17T08:32:03.235-03:00 DEBUG 17580 --- [VidaLongaFlix] [http-nio-8090-exec-1] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-01-17T08:32:03.270-03:00 DEBUG 17580 --- [VidaLongaFlix] [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /error
2025-01-17T08:32:03.272-03:00 DEBUG 17580 --- [VidaLongaFlix] [http-nio-8090-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-01-17T08:32:03.274-03:00 DEBUG 17580 --- [VidaLongaFlix] [http-nio-8090-exec-1] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-01-17T08:33:38.732-03:00  INFO 17580 --- [VidaLongaFlix] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-17T08:36:53.588-03:00  INFO 13196 --- [VidaLongaFlix] [main] c.d.V.VidaLongaFlixApplication           : Starting VidaLongaFlixApplication using Java 17.0.9 with PID 13196 (C:\Java-Spring-2024\VidaLongaFlix\target\classes started by amand in C:\Java-Spring-2024\VidaLongaFlix)
2025-01-17T08:36:53.599-03:00 DEBUG 13196 --- [VidaLongaFlix] [main] c.d.V.VidaLongaFlixApplication           : Running with Spring Boot v3.3.3, Spring v6.1.12
2025-01-17T08:36:53.603-03:00  INFO 13196 --- [VidaLongaFlix] [main] c.d.V.VidaLongaFlixApplication           : The following 1 profile is active: "dev"
2025-01-17T08:36:57.590-03:00  INFO 13196 --- [VidaLongaFlix] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-17T08:36:57.919-03:00  INFO 13196 --- [VidaLongaFlix] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 288 ms. Found 2 JPA repository interfaces.
2025-01-17T08:37:01.182-03:00  INFO 13196 --- [VidaLongaFlix] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8090 (http)
2025-01-17T08:37:01.627-03:00  INFO 13196 --- [VidaLongaFlix] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 7746 ms
2025-01-17T08:37:02.848-03:00  INFO 13196 --- [VidaLongaFlix] [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-17T08:37:04.037-03:00  WARN 13196 --- [VidaLongaFlix] [main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-17T08:37:06.980-03:00  INFO 13196 --- [VidaLongaFlix] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-17T08:37:07.242-03:00  WARN 13196 --- [VidaLongaFlix] [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-01-17T08:37:11.449-03:00  INFO 13196 --- [VidaLongaFlix] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-17T08:37:13.249-03:00 DEBUG 13196 --- [VidaLongaFlix] [main] c.d.V.infra.security.SecurityFilter      : Filter 'securityFilter' configured for use
2025-01-17T08:37:13.756-03:00  WARN 13196 --- [VidaLongaFlix] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-17T08:37:13.821-03:00  WARN 13196 --- [VidaLongaFlix] [main] r$InitializeUserDetailsManagerConfigurer : Found 2 UserDetailsService beans, with names [authorizationService, customUserDetailsService]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2025-01-17T08:37:13.822-03:00 DEBUG 13196 --- [VidaLongaFlix] [main] swordEncoderAuthenticationManagerBuilder : No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-01-17T08:37:15.457-03:00 DEBUG 13196 --- [VidaLongaFlix] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, SecurityFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-01-17T08:37:19.209-03:00  INFO 13196 --- [VidaLongaFlix] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8090 (http) with context path '/api'
2025-01-17T08:37:19.287-03:00  INFO 13196 --- [VidaLongaFlix] [main] c.d.V.VidaLongaFlixApplication           : Started VidaLongaFlixApplication in 28.486 seconds (process running for 30.794)
2025-01-17T08:37:28.111-03:00  INFO 13196 --- [VidaLongaFlix] [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-01-17T08:37:28.115-03:00  INFO 13196 --- [VidaLongaFlix] [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2025-01-17T08:37:28.180-03:00 DEBUG 13196 --- [VidaLongaFlix] [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /h2-console.
2025-01-17T08:37:28.212-03:00 DEBUG 13196 --- [VidaLongaFlix] [http-nio-8090-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-01-17T08:37:28.226-03:00 DEBUG 13196 --- [VidaLongaFlix] [http-nio-8090-exec-2] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-01-17T08:37:28.268-03:00 DEBUG 13196 --- [VidaLongaFlix] [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /error
2025-01-17T08:37:28.269-03:00 DEBUG 13196 --- [VidaLongaFlix] [http-nio-8090-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-01-17T08:37:28.270-03:00 DEBUG 13196 --- [VidaLongaFlix] [http-nio-8090-exec-2] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-01-17T08:37:46.971-03:00  INFO 13196 --- [VidaLongaFlix] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-17T08:38:14.951-03:00  INFO 14828 --- [VidaLongaFlix] [main] c.d.V.VidaLongaFlixApplication           : Starting VidaLongaFlixApplication using Java 17.0.9 with PID 14828 (C:\Java-Spring-2024\VidaLongaFlix\target\classes started by amand in C:\Java-Spring-2024\VidaLongaFlix)
2025-01-17T08:38:14.959-03:00 DEBUG 14828 --- [VidaLongaFlix] [main] c.d.V.VidaLongaFlixApplication           : Running with Spring Boot v3.3.3, Spring v6.1.12
2025-01-17T08:38:14.964-03:00  INFO 14828 --- [VidaLongaFlix] [main] c.d.V.VidaLongaFlixApplication           : The following 1 profile is active: "dev"
2025-01-17T08:38:21.679-03:00  INFO 14828 --- [VidaLongaFlix] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-17T08:38:22.012-03:00  INFO 14828 --- [VidaLongaFlix] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 298 ms. Found 2 JPA repository interfaces.
2025-01-17T08:38:27.698-03:00  INFO 14828 --- [VidaLongaFlix] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8090 (http)
2025-01-17T08:38:28.545-03:00  INFO 14828 --- [VidaLongaFlix] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 13273 ms
2025-01-17T08:38:31.737-03:00  INFO 14828 --- [VidaLongaFlix] [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-17T08:38:33.447-03:00  WARN 14828 --- [VidaLongaFlix] [main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-17T08:38:38.346-03:00  INFO 14828 --- [VidaLongaFlix] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-17T08:38:38.554-03:00  WARN 14828 --- [VidaLongaFlix] [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-01-17T08:38:43.872-03:00  INFO 14828 --- [VidaLongaFlix] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-17T08:38:46.298-03:00 DEBUG 14828 --- [VidaLongaFlix] [main] c.d.V.infra.security.SecurityFilter      : Filter 'securityFilter' configured for use
2025-01-17T08:38:47.834-03:00  WARN 14828 --- [VidaLongaFlix] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-17T08:38:48.485-03:00  WARN 14828 --- [VidaLongaFlix] [main] r$InitializeUserDetailsManagerConfigurer : Found 2 UserDetailsService beans, with names [authorizationService, customUserDetailsService]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2025-01-17T08:38:48.486-03:00 DEBUG 14828 --- [VidaLongaFlix] [main] swordEncoderAuthenticationManagerBuilder : No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-01-17T08:38:51.105-03:00 DEBUG 14828 --- [VidaLongaFlix] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, SecurityFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-01-17T08:38:54.620-03:00  INFO 14828 --- [VidaLongaFlix] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8090 (http) with context path '/api'
2025-01-17T08:38:54.732-03:00  INFO 14828 --- [VidaLongaFlix] [main] c.d.V.VidaLongaFlixApplication           : Started VidaLongaFlixApplication in 42.347 seconds (process running for 44.864)
2025-01-17T08:39:23.064-03:00  INFO 14828 --- [VidaLongaFlix] [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-01-17T08:39:23.068-03:00  INFO 14828 --- [VidaLongaFlix] [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2025-01-17T08:39:23.156-03:00 DEBUG 14828 --- [VidaLongaFlix] [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /h2-console.
2025-01-17T08:39:23.203-03:00 DEBUG 14828 --- [VidaLongaFlix] [http-nio-8090-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-01-17T08:39:23.229-03:00 DEBUG 14828 --- [VidaLongaFlix] [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /h2-console.
2025-01-17T08:39:23.297-03:00  WARN 14828 --- [VidaLongaFlix] [http-nio-8090-exec-1] o.a.c.w.AbstractFileResourceSet          : Resource for web application [/api] at path [/h2-console.] was not loaded as the canonical path [/h2-console] did not match. Use of symlinks is one possible cause.
2025-01-17T08:39:23.313-03:00 ERROR 14828 --- [VidaLongaFlix] [http-nio-8090-exec-1] c.d.V.i.e.ResourceExceptionHandler       : Unexpected error: 

org.springframework.web.servlet.resource.NoResourceFoundException: No static resource h2-console..
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:585) ~[spring-webmvc-6.1.12.jar:6.1.12]
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:52) ~[spring-webmvc-6.1.12.jar:6.1.12]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.12.jar:6.1.12]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.12.jar:6.1.12]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.12.jar:6.1.12]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.1.12.jar:6.1.12]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.28.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.12.jar:6.1.12]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.28.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.28.jar:10.1.28]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.1.12.jar:6.1.12]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.1.12.jar:6.1.12]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at com.dvFabricio.VidaLongaFlix.infra.security.SecurityFilter.doFilterInternal(SecurityFilter.java:52) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.12.jar:6.1.12]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.12.jar:6.1.12]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.12.jar:6.1.12]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.12.jar:6.1.12]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.12.jar:6.1.12]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.12.jar:6.1.12]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.12.jar:6.1.12]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.12.jar:6.1.12]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.12.jar:6.1.12]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.12.jar:6.1.12]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.12.jar:6.1.12]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.12.jar:6.1.12]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.12.jar:6.1.12]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.12.jar:6.1.12]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.12.jar:6.1.12]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.12.jar:6.1.12]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

2025-01-17T08:40:16.833-03:00  INFO 14828 --- [VidaLongaFlix] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
